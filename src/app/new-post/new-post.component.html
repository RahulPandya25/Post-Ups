<div class="nav-container">
  <app-navbar
    [showSecondaryNavBar]="false"
    [showBackBtn]="true"
    [showSearchBtn]="false"
  ></app-navbar>
</div>

<div class="container">
  <form
    class="section form"
    #myForm="ngForm"
    [formGroup]="myFormGroup"
    (ngSubmit)="onSubmit(myForm)"
  >
    <div class="form-set">
      <div class="form-element">
        <label for="post-title">Title</label>
        <input
          type="text"
          name="postTitle"
          formControlName="title"
          id="post-title"
          placeholder="Add Title..."
        />
      </div>
      <div class="form-element">
        <label for="category">Category</label
        ><select
          (change)="changeCategory($event)"
          aria-placeholder="Select Category"
        >
          <option
            *ngFor="let category of categories"
            [value]="category.value"
            [selected]="category.defaultForNewPost == true"
          >
            {{ category.name }}</option
          >
        </select>
      </div>
      <div class="form-element" *ngIf="selectedCategory === catWithTextArea">
        <label for="text">Add Text</label>
        <textarea
          rows="3"
          placeholder="Enter the post here..."
          formControlName="textContent"
        ></textarea>
      </div>

      <div class="form-element" *ngIf="selectedCategory !== catWithTextArea">
        <label for="mediaFile">Upload File</label>
        <input
          type="file"
          name="file"
          id="file"
          formControlName="file"
          (change)="selectFile($event)"
        />
      </div>

      <div class="form-element">
        <label for="tag">Tags</label>
        <input
          type="text"
          name="tag"
          formControlName="tag"
          placeholder="Add Tags seperated by commas..."
        />
      </div>
    </div>
    <div class="form-set">
      <div class="form-element form-btns">
        <button type="submit">Submit</button>
        <button type="reset">Reset</button>
      </div>
    </div>
  </form>
</div>
